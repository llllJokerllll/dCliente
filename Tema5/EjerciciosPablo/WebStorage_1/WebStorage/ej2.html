<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
    <title>cookies</title>
    <script>
        window.onload = () => {
            const id = (dir) => document.getElementById(dir);
            var galletas = document.cookie;

            id("ver").addEventListener("click", () => {
                alert(galletas)
            });
            id("crear").addEventListener("click", () => {
                let nombre = prompt("Introduce el nombre de la cookie") + "=";
                let valor = prompt("Introduce el valor de la cookie");
                let dias = parseInt((prompt("Cantidad de días en la que expira")));
                let expiraEn = (dias != 0 && !isNaN(dias)) ? ";expires=" + new Date(new Date().getTime() + 24 * 3600 * 1000 * dias) : "";
                galletas = (nombre + valor + expiraEn);
            });
            id("modificar").addEventListener("click", () => {
                let nombre = prompt("Introduce el nombre de la cookie") + "=";
                let valor = prompt("Introduce el valor de la cookie");
                let dias = parseInt((prompt("Cantidad de días en la que expira")));
                let expiraEn = (dias != 0 && !isNaN(dias)) ? ";expires=" + new Date(new Date().getTime() + 24 * 3600 * 1000 * dias) : "";
                galletas = (nombre + valor + expiraEn);
            });
            id("leer").addEventListener("click", () => {
                let nombre = prompt("Introduce el nombre de la cookie");
                galletas.split(";").forEach(galleta => {
                    let cookies = galleta.split("=");
                    for (let i = 0; i < cookies.length; i++) {
                        if (cookies[i] == nombre) {
                            alert(nombre + "=" + cookies[i + 1]);
                        }
                    }
                });
            });
            id("borrar").addEventListener("click", () => {
                galletas = (prompt("Introduce el nombre de la cookie a eliminar") + "=;expires=" + new Date());
            })

        }
    </script>
</head>

<body>
    <button type="button" id="ver">Ver todas las cookies</button>
    <button type="button" id="crear">Crear cookie</button>
    <button type="button" id="modificar">Modificar cookie</button>
    <button type="button" id="leer">Leer cookie</button>
    <button type="button" id="borrar">Borrar cookie</button>
    <p id="saludo"></p>
    <p id="contador"></p>
</body>

</html>